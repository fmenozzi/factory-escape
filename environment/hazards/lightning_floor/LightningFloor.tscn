[gd_scene load_steps=12 format=2]

[ext_resource path="res://environment/hazards/lightning_floor/lightning_floor.gd" type="Script" id=1]
[ext_resource path="res://actors/enemies/enemy_state_sequence.gd" type="Script" id=2]
[ext_resource path="res://environment/hazards/lightning_floor/states/cancel.gd" type="Script" id=3]
[ext_resource path="res://environment/hazards/lightning_floor/states/wind_down.gd" type="Script" id=4]
[ext_resource path="res://environment/hazards/lightning_floor/states/activate.gd" type="Script" id=5]
[ext_resource path="res://environment/hazards/lightning_floor/states/telegraph.gd" type="Script" id=6]
[ext_resource path="res://environment/hazards/lightning_floor/LightningFloorIndicatorLights.tscn" type="PackedScene" id=7]
[ext_resource path="res://environment/hazards/lightning_wall/LightningBolt.tscn" type="PackedScene" id=8]
[ext_resource path="res://environment/hazards/lightning_floor/audio/lightning_floor_activate.wav" type="AudioStream" id=9]
[ext_resource path="res://environment/hazards/lightning_floor/audio/lightning_floor_telegraph.wav" type="AudioStream" id=10]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 136, 8 )

[node name="LightningFloor" type="Node2D"]
script = ExtResource( 1 )

[node name="States" type="Node" parent="."]

[node name="Attack" type="Node" parent="States"]
script = ExtResource( 2 )

[node name="Telegraph" type="Node" parent="States/Attack"]
script = ExtResource( 6 )

[node name="TelegraphSound" type="AudioStreamPlayer" parent="States/Attack/Telegraph"]
stream = ExtResource( 10 )
bus = "Effects"

[node name="Activate" type="Node" parent="States/Attack"]
script = ExtResource( 5 )

[node name="AttackDuration" type="Timer" parent="States/Attack/Activate"]

[node name="ActivateSound" type="AudioStreamPlayer" parent="States/Attack/Activate"]
stream = ExtResource( 9 )
volume_db = 6.0
bus = "Effects"

[node name="WindDown" type="Node" parent="States/Attack"]
script = ExtResource( 4 )

[node name="AlphaTween" type="Tween" parent="States/Attack/WindDown"]

[node name="Cancel" type="Node" parent="States"]
script = ExtResource( 3 )

[node name="LightningFloorIndicatorLights" parent="." instance=ExtResource( 7 )]

[node name="Bolts" type="Node2D" parent="."]
position = Vector2( -136, 0 )

[node name="1" parent="Bolts" instance=ExtResource( 8 )]
length = 272.0
num_segments = 16
max_y_perturb = 8.0

[node name="2" parent="Bolts" instance=ExtResource( 8 )]
color = Color( 0.890196, 0.890196, 0.803922, 1 )
length = 272.0

[node name="3" parent="Bolts" instance=ExtResource( 8 )]
length = 272.0
num_segments = 12
max_y_perturb = 6.0

[node name="4" parent="Bolts" instance=ExtResource( 8 )]
position = Vector2( 272, 0 )
rotation = 3.14159
color = Color( 0.890196, 0.890196, 0.803922, 1 )
length = 272.0
num_segments = 18
max_y_perturb = 5.0

[node name="5" parent="Bolts" instance=ExtResource( 8 )]
position = Vector2( 272, 0 )
rotation = 3.14159
length = 272.0

[node name="6" parent="Bolts" instance=ExtResource( 8 )]
position = Vector2( 272, 0 )
rotation = 3.14159
color = Color( 0.890196, 0.890196, 0.803922, 1 )
length = 272.0
num_segments = 20

[node name="Hitbox" type="Area2D" parent="."]
collision_layer = 64
collision_mask = 32

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hitbox"]
shape = SubResource( 1 )
disabled = true
